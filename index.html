<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered GYG Experience Content Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
        }
        
        .input-section, .output-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
        }
        
        .input-section h2, .output-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .api-key-section {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #ffc107;
        }
        
        .api-key-section small {
            display: block;
            margin-top: 5px;
            color: #856404;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .output-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .output-card h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .output-card p, .output-card ul {
            color: #555;
            line-height: 1.6;
        }
        
        .output-card ul {
            list-style-position: inside;
            padding-left: 0;
        }
        
        .output-card li {
            margin-bottom: 8px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .copy-btn:hover {
            background: #218838;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #f5c6cb;
        }
        
        @media (max-width: 1024px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ AI-Powered GYG Content Generator</h1>
            <p>Transform simple information into compelling travel experiences</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <h2>üìù Experience Details</h2>
                
                <div class="api-key-section">
                    <label for="apiKey">OpenAI API Key</label>
                    <input type="password" id="apiKey" placeholder="sk-...">
                    <small>Your API key is stored locally and never sent anywhere except OpenAI</small>
                </div>
                
                <div class="form-group">
                    <label for="experienceName">Experience Name *</label>
                    <input type="text" id="experienceName" placeholder="e.g., Colosseum Tour">
                </div>
                
                <div class="form-group">
                    <label for="location">Location *</label>
                    <input type="text" id="location" placeholder="e.g., Rome, Italy">
                </div>
                
                <div class="form-group">
                    <label for="duration">Duration *</label>
                    <input type="text" id="duration" placeholder="e.g., 3 hours">
                </div>
                
                <div class="form-group">
                    <label for="activities">Main Activities/Features *</label>
                    <textarea id="activities" placeholder="e.g., Skip-the-line access, guided tour, see gladiator arena, underground chambers"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="targetAudience">Target Audience</label>
                    <input type="text" id="targetAudience" placeholder="e.g., Families, history enthusiasts, photographers">
                </div>
                
                <div class="form-group">
                    <label for="uniqueFeatures">Unique Selling Points</label>
                    <textarea id="uniqueFeatures" placeholder="e.g., Expert archaeologist guide, small group size, exclusive access"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="tone">Content Tone</label>
                    <select id="tone">
                        <option value="exciting">Exciting & Adventurous</option>
                        <option value="professional">Professional & Informative</option>
                        <option value="casual">Casual & Friendly</option>
                        <option value="luxury">Luxury & Exclusive</option>
                    </select>
                </div>
                
                <button class="btn" onclick="generateContent()">‚ú® Generate AI Content</button>
            </div>
            
            <div class="output-section">
                <h2>üéØ Generated Content</h2>
                <div id="output">
                    <p style="text-align: center; color: #999; padding: 40px;">
                        Fill in the details and click "Generate AI Content" to see your results here.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let generatedContent = {};

        async function generateContent() {
            const apiKey = document.getElementById('apiKey').value.trim();
            const experienceName = document.getElementById('experienceName').value.trim();
            const location = document.getElementById('location').value.trim();
            const duration = document.getElementById('duration').value.trim();
            const activities = document.getElementById('activities').value.trim();
            const targetAudience = document.getElementById('targetAudience').value.trim();
            const uniqueFeatures = document.getElementById('uniqueFeatures').value.trim();
            const tone = document.getElementById('tone').value;

            if (!apiKey) {
                showError('Please enter your OpenAI API key');
                return;
            }

            if (!experienceName || !location || !duration || !activities) {
                showError('Please fill in all required fields (marked with *)');
                return;
            }

            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>AI is crafting your content...</p>
                </div>
            `;

            try {
                const prompt = createPrompt(experienceName, location, duration, activities, targetAudience, uniqueFeatures, tone);
                
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'gpt-4o-mini',
                        messages: [{
                            role: 'user',
                            content: prompt
                        }],
                        temperature: 0.8,
                        max_tokens: 2500
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error?.message || 'API request failed');
                }

                const data = await response.json();
                const content = data.choices[0].message.content;
                
                parseAndDisplayContent(content);
                
            } catch (error) {
                showError(`Error: ${error.message}`);
            }
        }

        function createPrompt(name, location, duration, activities, audience, features, tone) {
            const toneDescriptions = {
                exciting: "exciting, adventurous, and enthusiastic",
                professional: "professional, informative, and trustworthy",
                casual: "casual, friendly, and approachable",
                luxury: "luxurious, exclusive, and sophisticated"
            };

            return `Create compelling travel experience content for GetYourGuide with a ${toneDescriptions[tone]} tone.

Experience Details:
- Name: ${name}
- Location: ${location}
- Duration: ${duration}
- Activities: ${activities}
${audience ? `- Target Audience: ${audience}` : ''}
${features ? `- Unique Features: ${features}` : ''}

Generate the following sections in this EXACT format:

TITLE OPTIONS:
1. [Title option 1]
2. [Title option 2]
3. [Title option 3]

SHORT DESCRIPTION:
[2-3 sentences, 150-200 characters, compelling hook]

LONG DESCRIPTION:
[4-5 paragraphs describing the experience, what makes it special, what guests will see/do/learn, sensory details, emotional benefits]

HIGHLIGHTS:
- [Highlight 1]
- [Highlight 2]
- [Highlight 3]
- [Highlight 4]
- [Highlight 5]
- [Highlight 6]

FAQ:
Q: [Common question 1]
A: [Answer]

Q: [Common question 2]
A: [Answer]

Q: [Common question 3]
A: [Answer]

Q: [Common question 4]
A: [Answer]

Q: [Common question 5]
A: [Answer]`;
        }

        function parseAndDisplayContent(content) {
            const sections = {
                titles: [],
                shortDesc: '',
                longDesc: '',
                highlights: [],
                faqs: []
            };

            const titleMatch = content.match(/TITLE OPTIONS?:(.*?)(?=SHORT DESCRIPTION:|$)/s);
            if (titleMatch) {
                const titles = titleMatch[1].match(/\d+\.\s*(.+)/g);
                if (titles) {
                    sections.titles = titles.map(t => t.replace(/^\d+\.\s*/, '').trim());
                }
            }

            const shortMatch = content.match(/SHORT DESCRIPTION:(.*?)(?=LONG DESCRIPTION:|$)/s);
            if (shortMatch) {
                sections.shortDesc = shortMatch[1].trim();
            }

            const longMatch = content.match(/LONG DESCRIPTION:(.*?)(?=HIGHLIGHTS?:|$)/s);
            if (longMatch) {
                sections.longDesc = longMatch[1].trim();
            }

            const highlightsMatch = content.match(/HIGHLIGHTS?:(.*?)(?=FAQ:|$)/s);
            if (highlightsMatch) {
                const highlights = highlightsMatch[1].match(/[-‚Ä¢]\s*(.+)/g);
                if (highlights) {
                    sections.highlights = highlights.map(h => h.replace(/^[-‚Ä¢]\s*/, '').trim());
                }
            }

            const faqMatch = content.match(/FAQ:(.*?)$/s);
            if (faqMatch) {
                const faqText = faqMatch[1];
                const qaPairs = faqText.split(/Q:/g).filter(q => q.trim());
                sections.faqs = qaPairs.map(qa => {
                    const parts = qa.split(/A:/);
                    return {
                        question: parts[0] ? parts[0].trim() : '',
                        answer: parts[1] ? parts[1].trim() : ''
                    };
                }).filter(qa => qa.question && qa.answer);
            }

            generatedContent = sections;
            displayContent(sections);
        }

        function displayContent(sections) {
            const outputDiv = document.getElementById('output');
            
            let html = '';

            if (sections.titles.length > 0) {
                html += `<div class="output-card">
                    <h3>üìå Title Options</h3>
                    ${sections.titles.map((title, i) => `<p><strong>Option ${i + 1}:</strong> ${title}</p>`).join('')}
                    <button class="copy-btn" onclick="copyText('${sections.titles.join('\\n').replace(/'/g, "\\'")}')">Copy All</button>
                </div>`;
            }

            if (sections.shortDesc) {
                html += `<div class="output-card">
                    <h3>üìù Short Description</h3>
                    <p>${sections.shortDesc}</p>
                    <button class="copy-btn" onclick="copyText('${sections.shortDesc.replace(/'/g, "\\'")}')">Copy</button>
                </div>`;
            }

            if (sections.longDesc) {
                html += `<div class="output-card">
                    <h3>üìñ Long Description</h3>
                    <p>${sections.longDesc.replace(/\n\n/g, '</p><p>')}</p>
                    <button class="copy-btn" onclick="copyText('${sections.longDesc.replace(/'/g, "\\'")}')">Copy</button>
                </div>`;
            }

            if (sections.highlights.length > 0) {
                html += `<div class="output-card">
                    <h3>‚≠ê Highlights</h3>
                    <ul>
                        ${sections.highlights.map(h => `<li>${h}</li>`).join('')}
                    </ul>
                    <button class="copy-btn" onclick="copyText('${sections.highlights.join('\\n').replace(/'/g, "\\'")}')">Copy</button>
                </div>`;
            }

            if (sections.faqs.length > 0) {
                html += `<div class="output-card">
                    <h3>‚ùì FAQ</h3>
                    ${sections.faqs.map(faq => `
                        <p><strong>Q: ${faq.question}</strong></p>
                        <p>A: ${faq.answer}</p>
                        <br>
                    `).join('')}
                    <button class="copy-btn" onclick="copyText('${sections.faqs.map(f => `Q: ${f.question}\\nA: ${f.answer}`).join('\\n\\n').replace(/'/g, "\\'")}')">Copy All</button>
                </div>`;
            }

            outputDiv.innerHTML = html;
        }

        function showError(message) {
            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = `<div class="error">${message}</div>`;
        }

        function copyText(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text.replace(/\\n/g, '\n').replace(/\\'/g, "'");
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            alert('Copied to clipboard!');
        }
    </script>
</body>
</html>
